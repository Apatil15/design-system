////
/// Motion
/// An implementation of Material Design's motion guidelines.
/// @group motion
/// @source https://material.io/design/motion/understanding-html Material Design: Understanding Motion
/// @source https://material.io/design/motion/speed.html#duration Material Design: Durations
/// @source https://material.io/design/motion/speed.html#easing Material Design: Easings
////

@use 'sass:list';
@use 'sass:map';
@use 'properties' as props;

// FUNCTIONS

@function scale($duration) {
	@return calc(#{$duration} * #{props.prop(duration-scalar)});
}

/// Apply one transition to many properties
/// @param {String} $transition - An easing and/or duration.
/// @param {String[]} $properties... - A list of CSS properties.
@function transition($transition, $properties...) {
	$full-transition: ();

	@each $property in $properties {
		$full-transition: list.join($full-transition, #{$property $transition}, $separator: comma);
	}

	@return $full-transition;
}


// TOKENS

/// A multiplier used for increasing/decreasing all motion speed.
$duration-scalar: 1 !default;

/// A duration used for simple animations such as selection controls.
$duration-simple: 100ms !default;
/// A duration used for simple entrances such as fade-ins.
$duration-simple-enter: 150ms !default;
/// A duration used for simple exits such as fade-outs.
$duration-simple-exit: 75ms !default;
/// A duration used for complex animations such as shape changes.
$duration-complex: 200ms !default;
/// A duration used for detailed animations such as icon transformations.
$duration-detailed: 500ms !default;

/// A duration used for elements that open from a closed state, such as a sidebar.
$duration-open: 250ms !default;
/// A duration used for elements that close from an opened state, such as a sidebar.
$duration-close: 200ms !default;
/// A duration used when an element expands (grows).
$duration-expand: 300ms !default;
/// A duration used when an element collapses (shrinks).
$duration-collapse: 250ms !default;

/// Standard easing puts subtle attention at the end of an animation, by giving
/// more time to deceleration than acceleration. It is the most common form of
/// easing.
///
/// Elements that begin and end at rest use standard easing. They speed up
/// quickly and slow down gradually, in order to emphasize the end of the
/// transition.
$easing-standard: cubic-bezier(0.4, 0, 0.2, 1) !default;

/// Incoming elements are animated using deceleration easing, which starts a
/// transition at peak velocity (the fastest point of an elementâ€™s movement) and
/// ends at rest.
$easing-deceleration: cubic-bezier(0, 0, 0.2, 1) !default;

/// Elements exiting a screen use acceleration easing, where they start at rest
/// and end at peak velocity.
$easing-acceleration: cubic-bezier(0.4, 0, 1, 1) !default;

/// Timing function to quickly accelerate and decelerate
/// @source https://github.com/material-components/material-components-web/tree/master/packages/mdc-animation @material/animation
$easing-sharp: cubic-bezier(0.4, 0, 0.6, 1) !default;


// :ROOT CSS PROPERTIES

@include props.root-props(
	$duration-scalar: $duration-scalar,
);
@include props.root-props(
	$duration-simple: scale($duration-simple),
	$duration-simple-enter: scale($duration-simple-enter),
	$duration-simple-exit: scale($duration-simple-exit),
	$duration-complex: scale($duration-complex),
	$duration-detailed: scale($duration-detailed),
	$duration-open: scale($duration-open),
	$duration-close: scale($duration-close),
	$duration-expand: scale($duration-expand),
	$duration-collapse: scale($duration-collapse),
);
@include props.root-props(
	$duration-small: props.prop('duration-simple'),
	$duration-medium-expand: props.prop('duration-open'),
	$duration-medium-collapse: props.prop('duration-open'),
	$duration-large-expand: props.prop('duration-expand'),
	$duration-large-collapse: props.prop('duration-collapse'),
);
@include props.root-props(
	$easing-standard: $easing-standard,
	$easing-deceleration: $easing-deceleration,
	$easing-acceleration: $easing-acceleration,
	$easing-sharp: $easing-sharp,
);
